# 5. 책임 할당하기

책임에 초점을 맞춰서 설계할 때 가장 큰 어려움

- 어떤 책임을 할당할지를 결정하기 쉽지 않다.

*책임 할당 과정은 일종의 트레이드오프 활동이다.*

## 책임 주도 설계를 향해

- 데이터보다 행동을 먼저 결정하라
- 협력이라는 문맥 안에서 책임을 결정하라

### 데이터보다 행동을 먼저 결정하라

책임을 먼저 결정한 후에 객체의 상태를 결정한다.

1. 이 객체가 수행해야 하는 책임은 무엇인가
2. 이 책임을 수행하는 데 필요한 데이터는 무엇인가

## 협력이라는 문맥 안에서 책임을 결정하라

- 책임은 객체의 입장이 아니라 객체가 참여하는 협력에 적합해야 한다.
- 메시지를 전송하는 클라이언트의 의도에 적합한 책임을 할당해야 한다.
- 객체가 메시지를 선택하는 것이 아니라 `메시지가 객체를 선택`하게 해야한다.

> 책임 중심의 설계에서는 협력이라는 문맥 안에서 객체가 수행할 책임에 초점을 맞춘다.
두 원칙이 `책임 주도 설계` 방법의 핵심과 거의 동일하다

---

## 책임 할당을 위한 GRASP 패턴

"General Resposibility Assignment Software Pattern(일반적인 책임 할당을 위한 소프트웨어 패턴)" - *크레이그 라만(Craig Larman)*

- 객체에게 책임을 할당할 때 지침으로 삼을 수 있는 원칙들의 집합을 패턴 형식으로 정리한 것

### 도메인 개념에서 출발하기

- 설계 시작 전 도메인에 대한 개략적인 모습을 그려 보는 것이 유용하다.
- 도메인 안에는 많은 개념들이 존재하며 이 도메인 개념들을 책임 할당의 대상으로 사용하면 코드에 도메인의 모습을 투영하기 좀 더 수월해진다.
- 어떤 책임을 할당해야 할 때 가장 먼저 고민해야 하는 유력한 후보는 `도메인 개념`이다.

### 정보 전문가에게 책임을 할당하라

책임 주도 설계 방식의 첫 단계

- 애플리케이션이 제공해야 하는 기능을 애플리케이션의 책임으로 생각하는 것
- 이 책임을 애플리케이션에 대해 저농된 메시지로 간주하고 이 메시지를 책임질 첫 번째 객체를 선택하는 것

INFORMATION EXPERT(정보 전문가) - 책임을 수행할 정보를 알고 있는 객체에게 책임을 할당하는 것

- 객체가 자신이 소유하고 있는 정보와 관련된 작업을 수행한다는 일반적인 직관을 표현한 것이다.
- 책임을 수행하는 객체가 정보를 '알고'있다고 해서 그 정보를 '저장'하고 있을 필요는 없다.
- 어떤 방식이건 정보 전문가가 데이터를 반드시 저장하고 있을 필요는 없다.
